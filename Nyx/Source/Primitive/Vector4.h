/********************************************************************************
*
*  The MIT License
*
* Copyright (c)2010 -  t.hayamizu
*
*以下に定める条件に従い、本ソフトウェアおよび関連文書のファイル（以下「ソフトウェア」）の複製を取得するすべての人に対し、ソフトウェ
*アを無制限に扱うことを無償で許可します。これには、ソフトウェアの複製を使用、複写、変更、結合、掲載、頒布、サブライセンス、および/ま
*たは販売する権利、およびソフトウェアを提供する相手に同じことを許可する権利も無制限に含まれます。
*
*上記の著作権表示および本許諾表示を、ソフトウェアのすべての複製または重要な部分に記載するものとします。
*
*ソフトウェアは「現状のまま」で、明示であるか暗黙であるかを問わず、何らの保証もなく提供されます。ここでいう保証とは、商品性、特定の目*的への適合性、および権利非侵害についての保証も含みますが、それに限定されるものではありません。 作者または著作権者は、契約行為、不法
*行為、またはそれ以外であろうと、ソフトウェアに起因または関連し、あるいはソフトウェアの使用またはその他の扱いによって生じる一切の請
*求、損害、その他の義務について何らの責任も負わないものとします。 
********************************************************************************/
#ifndef NYX_CORE_INCLUDED_VECTOR4_H_
#define NYX_CORE_INCLUDED_VECTOR4_H_

namespace Nyx
{
	class Vector4 {
	public:
		//--------------------------------------------------------------------------------------
		// メンバ変数
		//--------------------------------------------------------------------------------------
		union {
			struct {
				/// x値
				float  x;
				/// y値
				float  y;
				/// z値
				float z;
				/// w
				float w;
			};
			/// 配列
			float elements[4];
		};

		//--------------------------------------------------------------------------------------
		// メンバ定数
		//--------------------------------------------------------------------------------------
		static const Vector4 Zero;  ///< ゼロベクトル

		static const Vector4 UnitX; ///< X軸単位ベクトル

		static const Vector4 UnitY; ///< Y軸単位ベクトル

		static const Vector4 UnitZ; ///< Z軸単位ベクトル

		static const Vector4 ScaleUnit; ///< スケール単位ベクトル 

		//--------------------------------------------------------------------------------------
		// コンストラクタ・デストラクタ
		//--------------------------------------------------------------------------------------
		/**
		*デフォルトコンストラクタ
		*/
		Vector4();

		/**
		* 引数つきコンストラクタ
		* @param x
		* @param y
		* @param z
		*/
		Vector4(float x_, float y_, float z_, float w_);

		/**
		* コピーコンストラクタ
		* @param Vector4
		*/
		Vector4(const Vector4 & u);

		/**
		* デストラクタ
		*/
		~Vector4();
		//--------------------------------------------------------------------------------------
		// 値の設定
		//--------------------------------------------------------------------------------------
		/**
		* 値の設定
		*/
		void Set(float x_, float y_, float z_, float w_);

		//--------------------------------------------------------------------------------------
		// 演算
		//--------------------------------------------------------------------------------------
		/**
		* 加算
		* @param 右辺値  
		* @return　加算結果 
		*/
		Vector4 operator +(const Vector4& u) const;

		/**
		* 減算
		* @param　右辺値  
		* @return 減算結果
		*/
		Vector4 operator -(const Vector4& u) const;

		/**
		* 乗算
		* @param 右辺値 
		* @return 乗算結果
		*/
		Vector4 operator *(const float u) const;

		/**
		* 乗算
		* @param  右辺値
		* @return 乗算結果 
		*/
		Vector4 operator *(const Vector4& u) const;

		/**
		* 除算
		* @param 右辺値  
		* @return 除算結果
		*/
		Vector4 operator /(const float u) const;

		//--------------------------------------------------------------------------------------
		// 代入演算
		//--------------------------------------------------------------------------------------
		/**
		* 加算代入
		* @param  右辺値
		* @return 加算結果
		*/
		Vector4& operator +=(const Vector4& u);

		/**
		* 減算代入
		* @param  右辺値
		* @return 減算結果
		*/
		Vector4& operator -=(const Vector4& u);

		/**
		* 乗算代入
		* @param  右辺値
		* @return 乗算結果
		*/
		Vector4& operator *=(const float u);

		/**
		* 乗算代入
		* @param  右辺値
		* @return 乗算結果
		*/
		Vector4& operator *=(const Vector4& u);

		/**
		* 除算代入
		* @param  右辺値
		* @return 除算結果
		*/
		Vector4& operator /=(const float u);

		/**
		* 代入
		* @param 右辺値
		* @return 代入結果
		*/
		Vector4& operator =(Vector4& u);

		/**
		* 反転 
		* @param 反転結果
		*/
		Vector4& operator ~();

		//--------------------------------------------------------------------------------------
		// ベクトル演算
		//--------------------------------------------------------------------------------------
		/**
		* ドット積
		* @param 右辺値
		* @return 内積
		*/
		float Dot(Vector4& u);

		//四次元では外積は定義できない
		//**
		//* クロス積
		//* @param   右辺値
		//* @return　クロス積 
		//*/
		//Vector4 Cross(Vector4& u);

		/**
		* ベクトルの長さ
		* @return  長さ
		*/
		float Length();

		/**
		* ベクトルの長さの二乗値
		* @return  長さ
		*/
		float SquaredLength();

		/**
		* ベクトルの正規化
		*/
		void Normalize();

		/**
		* ベクトルの反転
		*/
		void Inverse();

		/**
		* 線形補間
		*/
		Vector4 Lerp(const Vector4& v1, const Vector4& v2, float s);
		//--------------------------------------------------------------------------------------
		// 論理演算
		//--------------------------------------------------------------------------------------
		/** 
		* @return ゼロベクトルならtrue
		*/
		bool IsZero() const;

		/** 
		* @return 単位ベクトルならtrue
		*/
		bool IsUnit() const;

		/** 
		* ベクトルの等価演算
		* @param 右辺値 
		* @return 比較結果が等しいならばtrue
		*/
		bool operator ==(const Vector4& u) const;

		/** 
		* ベクトルの等価演算
		* 丸め誤差対策
		* @param 右辺値 
		* @return 比較結果が等しいならばtrue
		*/
		bool Equal(const Vector4& u) const;    
		/** 
		* ベクトル等価演算
		* @param 右辺値 
		* @return　比較結果が等しくないならばtrue
		*/
		bool operator !=(const Vector4& u) const;
	};
}


#endif